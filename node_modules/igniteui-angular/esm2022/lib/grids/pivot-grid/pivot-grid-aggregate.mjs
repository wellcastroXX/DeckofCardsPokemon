import { IgxDateSummaryOperand, IgxNumberSummaryOperand, IgxTimeSummaryOperand } from '../summaries/grid-summary';
export class IgxPivotAggregate {
    /**
     * Gets array with default aggregator function for base aggregation.
     * ```typescript
     * IgxPivotAggregate.aggregators();
     * ```
     *
     * @memberof IgxPivotAggregate
     */
    static aggregators() {
        return [{
                key: 'COUNT',
                label: 'Count',
                aggregator: IgxPivotAggregate.count
            }];
    }
    /**
     * Counts all the records in the data source.
     * If filtering is applied, counts only the filtered records.
     * ```typescript
     * IgxSummaryOperand.count(dataSource);
     * ```
     *
     * @memberof IgxPivotAggregate
     */
    static count(members) {
        return members.length;
    }
}
export class IgxPivotNumericAggregate extends IgxPivotAggregate {
    /**
     * Gets array with default aggregator function for numeric aggregation.
     * ```typescript
     * IgxPivotAggregate.aggregators();
     * ```
     *
     * @memberof IgxPivotAggregate
     */
    static aggregators() {
        let result = [];
        result = result.concat(super.aggregators());
        result.push({
            key: 'MIN',
            label: 'Minimum',
            aggregator: IgxPivotNumericAggregate.min
        });
        result.push({
            key: 'MAX',
            label: 'Maximum',
            aggregator: IgxPivotNumericAggregate.max
        });
        result.push({
            key: 'SUM',
            label: 'Sum',
            aggregator: IgxPivotNumericAggregate.sum
        });
        result.push({
            key: 'AVG',
            label: 'Average',
            aggregator: IgxPivotNumericAggregate.average
        });
        return result;
    }
    /**
     * Returns the minimum numeric value in the provided data records.
     * If filtering is applied, returns the minimum value in the filtered data records.
     * ```typescript
     * IgxPivotNumericAggregate.min(members, data);
     * ```
     *
     * @memberof IgxPivotNumericAggregate
     */
    static min(members) {
        return IgxNumberSummaryOperand.min(members);
    }
    /**
     * Returns the maximum numeric value in the provided data records.
     * If filtering is applied, returns the maximum value in the filtered data records.
     * ```typescript
     * IgxPivotNumericAggregate.max(data);
     * ```
     *
     * @memberof IgxPivotNumericAggregate
     */
    static max(members) {
        return IgxNumberSummaryOperand.max(members);
    }
    /**
     * Returns the sum of the numeric values in the provided data records.
     * If filtering is applied, returns the sum of the numeric values in the data records.
     * ```typescript
     * IgxPivotNumericAggregate.sum(data);
     * ```
     *
     * @memberof IgxPivotNumericAggregate
     */
    static sum(members) {
        return IgxNumberSummaryOperand.sum(members);
    }
    /**
     * Returns the average numeric value in the data provided data records.
     * If filtering is applied, returns the average numeric value in the filtered data records.
     * ```typescript
     * IgxPivotNumericAggregate.average(data);
     * ```
     *
     * @memberof IgxPivotNumericAggregate
     */
    static average(members) {
        return IgxNumberSummaryOperand.average(members);
    }
}
export class IgxPivotDateAggregate extends IgxPivotAggregate {
    /**
     * Gets array with default aggregator function for date aggregation.
     * ```typescript
     * IgxPivotDateAggregate.aggregators();
     * ```
     *
     * @memberof IgxPivotAggregate
     */
    static aggregators() {
        let result = [];
        result = result.concat(super.aggregators());
        result.push({
            key: 'LATEST',
            label: 'Latest Date',
            aggregator: IgxPivotDateAggregate.latest
        });
        result.push({
            key: 'EARLIEST',
            label: 'Earliest Date',
            aggregator: IgxPivotDateAggregate.earliest
        });
        return result;
    }
    /**
     * Returns the latest date value in the data records.
     * If filtering is applied, returns the latest date value in the filtered data records.
     * ```typescript
     * IgxPivotDateAggregate.latest(data);
     * ```
     *
     * @memberof IgxPivotDateAggregate
     */
    static latest(members) {
        return IgxDateSummaryOperand.latest(members);
    }
    /**
     * Returns the earliest date value in the data records.
     * If filtering is applied, returns the latest date value in the filtered data records.
     * ```typescript
     * IgxPivotDateAggregate.earliest(data);
     * ```
     *
     * @memberof IgxPivotDateAggregate
     */
    static earliest(members) {
        return IgxDateSummaryOperand.earliest(members);
    }
}
export class IgxPivotTimeAggregate extends IgxPivotAggregate {
    /**
     * Gets array with default aggregator function for time aggregation.
     * ```typescript
     * IgxPivotTimeAggregate.aggregators();
     * ```
     *
     * @memberof IgxPivotAggregate
     */
    static aggregators() {
        let result = [];
        result = result.concat(super.aggregators());
        result.push({
            key: 'LATEST',
            label: 'Latest Time',
            aggregator: IgxPivotTimeAggregate.latestTime
        });
        result.push({
            key: 'EARLIEST',
            label: 'Earliest Time',
            aggregator: IgxPivotTimeAggregate.earliestTime
        });
        return result;
    }
    /**
     * Returns the latest time value in the data records. Compare only the time part of the date.
     * If filtering is applied, returns the latest time value in the filtered data records.
     * ```typescript
     * IgxPivotTimeAggregate.latestTime(data);
     * ```
     *
     * @memberof IgxPivotTimeAggregate
     */
    static latestTime(members) {
        return IgxTimeSummaryOperand.latestTime(members);
    }
    /**
     * Returns the earliest time value in the data records. Compare only the time part of the date.
     * If filtering is applied, returns the earliest time value in the filtered data records.
     * ```typescript
     * IgxPivotTimeAggregate.earliestTime(data);
     * ```
     *
     * @memberof IgxPivotTimeAggregate
     */
    static earliestTime(members) {
        return IgxTimeSummaryOperand.earliestTime(members);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGl2b3QtZ3JpZC1hZ2dyZWdhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9pZ25pdGV1aS1hbmd1bGFyL3NyYy9saWIvZ3JpZHMvcGl2b3QtZ3JpZC9waXZvdC1ncmlkLWFnZ3JlZ2F0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsdUJBQXVCLEVBQUUscUJBQXFCLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUlsSCxNQUFNLE9BQU8saUJBQWlCO0lBQzFCOzs7Ozs7O09BT0c7SUFDSSxNQUFNLENBQUMsV0FBVztRQUNyQixPQUFPLENBQUM7Z0JBQ0osR0FBRyxFQUFFLE9BQU87Z0JBQ1osS0FBSyxFQUFFLE9BQU87Z0JBQ2QsVUFBVSxFQUFFLGlCQUFpQixDQUFDLEtBQUs7YUFDdEMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNEOzs7Ozs7OztPQVFHO0lBQ0ksTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFpQjtRQUNqQyxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUM7SUFDMUIsQ0FBQztDQUNKO0FBRUQsTUFBTSxPQUFPLHdCQUF5QixTQUFRLGlCQUFpQjtJQUUzRDs7Ozs7OztPQU9HO0lBQ0ksTUFBTSxDQUFVLFdBQVc7UUFDOUIsSUFBSSxNQUFNLEdBQXVCLEVBQUUsQ0FBQztRQUNwQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztRQUM1QyxNQUFNLENBQUMsSUFBSSxDQUFDO1lBQ1IsR0FBRyxFQUFFLEtBQUs7WUFDVixLQUFLLEVBQUUsU0FBUztZQUNoQixVQUFVLEVBQUUsd0JBQXdCLENBQUMsR0FBRztTQUMzQyxDQUFDLENBQUM7UUFDSCxNQUFNLENBQUMsSUFBSSxDQUFDO1lBQ1IsR0FBRyxFQUFFLEtBQUs7WUFDVixLQUFLLEVBQUUsU0FBUztZQUNoQixVQUFVLEVBQUUsd0JB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Ozs7Ozs7OztPQVFHO0lBQ0ksTUFBTSxDQUFDLFVBQVUsQ0FBQyxPQUFjO1FBQ25DLE9BQU8scUJBQXFCLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFRDs7Ozs7Ozs7T0FRRztJQUNJLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBYztRQUNyQyxPQUFPLHFCQUFxQixDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN2RCxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJZ3hEYXRlU3VtbWFyeU9wZXJhbmQsIElneE51bWJlclN1bW1hcnlPcGVyYW5kLCBJZ3hUaW1lU3VtbWFyeU9wZXJhbmQgfSBmcm9tICcuLi9zdW1tYXJpZXMvZ3JpZC1zdW1tYXJ5JztcbmltcG9ydCB7IElQaXZvdEFnZ3JlZ2F0b3IgfSBmcm9tICcuL3Bpdm90LWdyaWQuaW50ZXJmYWNlJztcblxuXG5leHBvcnQgY2xhc3MgSWd4UGl2b3RBZ2dyZWdhdGUge1xuICAgIC8qKlxuICAgICAqIEdldHMgYXJyYXkgd2l0aCBkZWZhdWx0IGFnZ3JlZ2F0b3IgZnVuY3Rpb24gZm9yIGJhc2UgYWdncmVnYXRpb24uXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIElneFBpdm90QWdncmVnYXRlLmFnZ3JlZ2F0b3JzKCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgSWd4UGl2b3RBZ2dyZWdhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGFnZ3JlZ2F0b3JzKCk6IEFycmF5PElQaXZvdEFnZ3JlZ2F0b3I+IHtcbiAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICBrZXk6ICdDT1VOVCcsXG4gICAgICAgICAgICBsYWJlbDogJ0NvdW50JyxcbiAgICAgICAgICAgIGFnZ3JlZ2F0b3I6IElneFBpdm90QWdncmVnYXRlLmNvdW50XG4gICAgICAgIH1dO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb3VudHMgYWxsIHRoZSByZWNvcmRzIGluIHRoZSBkYXRhIHNvdXJjZS5cbiAgICAgKiBJZiBmaWx0ZXJpbmcgaXMgYXBwbGllZCwgY291bnRzIG9ubHkgdGhlIGZpbHRlcmVkIHJlY29yZHMuXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIElneFN1bW1hcnlPcGVyYW5kLmNvdW50KGRhdGFTb3VyY2UpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIElneFBpdm90QWdncmVnYXRlXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBjb3VudChtZW1iZXJzOiBudW1iZXJbXSk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBtZW1iZXJzLmxlbmd0aDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJZ3hQaXZvdE51bWVyaWNBZ2dyZWdhdGUgZXh0ZW5kcyBJZ3hQaXZvdEFnZ3JlZ2F0ZSB7XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFycmF5IHdpdGggZGVmYXVsdCBhZ2dyZWdhdG9yIGZ1bmN0aW9uIGZvciBudW1lcmljIGFnZ3JlZ2F0aW9uLlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBJZ3hQaXZvdEFnZ3JlZ2F0ZS5hZ2dyZWdhdG9ycygpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIElneFBpdm90QWdncmVnYXRlXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBvdmVycmlkZSBhZ2dyZWdhdG9ycygpIHtcbiAgICAgICAgbGV0IHJlc3VsdDogSVBpdm90QWdncmVnYXRvcltdID0gW107XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoc3VwZXIuYWdncmVnYXRvcnMoKSk7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgIGtleTogJ01JTicsXG4gICAgICAgICAgICBsYWJlbDogJ01pbmltdW0nLFxuICAgICAgICAgICAgYWdncmVnYXRvcjogSWd4UGl2b3ROdW1lcmljQWdncmVnYXRlLm1pblxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAga2V5OiAnTUFYJyxcbiAgICAgICAgICAgIGxhYmVsOiAnTWF4aW11bScsXG4gICAgICAgICAgICBhZ2dyZWdhdG9yOiBJZ3hQaXZvdE51bWVyaWNBZ2dyZWdhdGUubWF4XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgIGtleTogJ1NVTScsXG4gICAgICAgICAgICBsYWJlbDogJ1N1bScsXG4gICAgICAgICAgICBhZ2dyZWdhdG9yOiBJZ3hQaXZvdE51bWVyaWNBZ2dyZWdhdGUuc3VtXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgIGtleTogJ0FWRycsXG4gICAgICAgICAgICBsYWJlbDogJ0F2ZXJhZ2UnLFxuICAgICAgICAgICAgYWdncmVnYXRvcjogSWd4UGl2b3ROdW1lcmljQWdncmVnYXRlLmF2ZXJhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWluaW11bSBudW1lcmljIHZhbHVlIGluIHRoZSBwcm92aWRlZCBkYXRhIHJlY29yZHMuXG4gICAgICogSWYgZmlsdGVyaW5nIGlzIGFwcGxpZWQsIHJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUgaW4gdGhlIGZpbHRlcmVkIGRhdGEgcmVjb3Jkcy5cbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogSWd4UGl2b3ROdW1lcmljQWdncmVnYXRlLm1pbihtZW1iZXJzLCBkYXRhKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBJZ3hQaXZvdE51bWVyaWNBZ2dyZWdhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIG1pbihtZW1iZXJzOiBudW1iZXJbXSk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBJZ3hOdW1iZXJTdW1tYXJ5T3BlcmFuZC5taW4obWVtYmVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWF4aW11bSBudW1lcmljIHZhbHVlIGluIHRoZSBwcm92aWRlZCBkYXRhIHJlY29yZHMuXG4gICAgICogSWYgZmlsdGVyaW5nIGlzIGFwcGxpZWQsIHJldHVybnMgdGhlIG1heGltdW0gdmFsdWUgaW4gdGhlIGZpbHRlcmVkIGRhdGEgcmVjb3Jkcy5cbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogSWd4UGl2b3ROdW1lcmljQWdncmVnYXRlLm1heChkYXRhKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBJZ3hQaXZvdE51bWVyaWNBZ2dyZWdhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIG1heChtZW1iZXJzOiBudW1iZXJbXSk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBJZ3hOdW1iZXJTdW1tYXJ5T3BlcmFuZC5tYXgobWVtYmVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3VtIG9mIHRoZSBudW1lcmljIHZhbHVlcyBpbiB0aGUgcHJvdmlkZWQgZGF0YSByZWNvcmRzLlxuICAgICAqIElmIGZpbHRlcmluZyBpcyBhcHBsaWVkLCByZXR1cm5zIHRoZSBzdW0gb2YgdGhlIG51bWVyaWMgdmFsdWVzIGluIHRoZSBkYXRhIHJlY29yZHMuXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIElneFBpdm90TnVtZXJpY0FnZ3JlZ2F0ZS5zdW0oZGF0YSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgSWd4UGl2b3ROdW1lcmljQWdncmVnYXRlXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBzdW0obWVtYmVyczogbnVtYmVyW10pOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gSWd4TnVtYmVyU3VtbWFyeU9wZXJhbmQuc3VtKG1lbWJlcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGF2ZXJhZ2UgbnVtZXJpYyB2YWx1ZSBpbiB0aGUgZGF0YSBwcm92aWRlZCBkYXRhIHJlY29yZHMuXG4gICAgICogSWYgZmlsdGVyaW5nIGlzIGFwcGxpZWQsIHJldHVybnMgdGhlIGF2ZXJhZ2UgbnVtZXJpYyB2YWx1ZSBpbiB0aGUgZmlsdGVyZWQgZGF0YSByZWNvcmRzLlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBJZ3hQaXZvdE51bWVyaWNBZ2dyZWdhdGUuYXZlcmFnZShkYXRhKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBJZ3hQaXZvdE51bWVyaWNBZ2dyZWdhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGF2ZXJhZ2UobWVtYmVyczogbnVtYmVyW10pOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gSWd4TnVtYmVyU3VtbWFyeU9wZXJhbmQuYXZlcmFnZShtZW1iZXJzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJZ3hQaXZvdERhdGVBZ2dyZWdhdGUgZXh0ZW5kcyBJZ3hQaXZvdEFnZ3JlZ2F0ZSB7XG4gICAgLyoqXG4gICAgICogR2V0cyBhcnJheSB3aXRoIGRlZmF1bHQgYWdncmVnYXRvciBmdW5jdGlvbiBmb3IgZGF0ZSBhZ2dyZWdhdGlvbi5cbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogSWd4UGl2b3REYXRlQWdncmVnYXRlLmFnZ3JlZ2F0b3JzKCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgSWd4UGl2b3RBZ2dyZWdhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIG92ZXJyaWRlIGFnZ3JlZ2F0b3JzKCkge1xuICAgICAgICBsZXQgcmVzdWx0OiBJUGl2b3RBZ2dyZWdhdG9yW10gPSBbXTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChzdXBlci5hZ2dyZWdhdG9ycygpKTtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAga2V5OiAnTEFURVNUJyxcbiAgICAgICAgICAgIGxhYmVsOiAnTGF0ZXN0IERhdGUnLFxuICAgICAgICAgICAgYWdncmVnYXRvcjogSWd4UGl2b3REYXRlQWdncmVnYXRlLmxhdGVzdFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAga2V5OiAnRUFSTElFU1QnLFxuICAgICAgICAgICAgbGFiZWw6ICdFYXJsaWVzdCBEYXRlJyxcbiAgICAgICAgICAgIGFnZ3JlZ2F0b3I6IElneFBpdm90RGF0ZUFnZ3JlZ2F0ZS5lYXJsaWVzdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGF0ZXN0IGRhdGUgdmFsdWUgaW4gdGhlIGRhdGEgcmVjb3Jkcy5cbiAgICAgKiBJZiBmaWx0ZXJpbmcgaXMgYXBwbGllZCwgcmV0dXJucyB0aGUgbGF0ZXN0IGRhdGUgdmFsdWUgaW4gdGhlIGZpbHRlcmVkIGRhdGEgcmVjb3Jkcy5cbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogSWd4UGl2b3REYXRlQWdncmVnYXRlLmxhdGVzdChkYXRhKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBJZ3hQaXZvdERhdGVBZ2dyZWdhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGxhdGVzdChtZW1iZXJzOiBhbnlbXSkge1xuICAgICAgICByZXR1cm4gSWd4RGF0ZVN1bW1hcnlPcGVyYW5kLmxhdGVzdChtZW1iZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBlYXJsaWVzdCBkYXRlIHZhbHVlIGluIHRoZSBkYXRhIHJlY29yZHMuXG4gICAgICogSWYgZmlsdGVyaW5nIGlzIGFwcGxpZWQsIHJldHVybnMgdGhlIGxhdGVzdCBkYXRlIHZhbHVlIGluIHRoZSBmaWx0ZXJlZCBkYXRhIHJlY29yZHMuXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIElneFBpdm90RGF0ZUFnZ3JlZ2F0ZS5lYXJsaWVzdChkYXRhKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBJZ3hQaXZvdERhdGVBZ2dyZWdhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGVhcmxpZXN0KG1lbWJlcnM6IGFueVtdKSB7XG4gICAgICAgIHJldHVybiBJZ3hEYXRlU3VtbWFyeU9wZXJhbmQuZWFybGllc3QobWVtYmVycyk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSWd4UGl2b3RUaW1lQWdncmVnYXRlIGV4dGVuZHMgSWd4UGl2b3RBZ2dyZWdhdGUge1xuICAgIC8qKlxuICAgICAqIEdldHMgYXJyYXkgd2l0aCBkZWZhdWx0IGFnZ3JlZ2F0b3IgZnVuY3Rpb24gZm9yIHRpbWUgYWdncmVnYXRpb24uXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIElneFBpdm90VGltZUFnZ3JlZ2F0ZS5hZ2dyZWdhdG9ycygpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIElneFBpdm90QWdncmVnYXRlXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBvdmVycmlkZSBhZ2dyZWdhdG9ycygpIHtcbiAgICAgICAgbGV0IHJlc3VsdDogSVBpdm90QWdncmVnYXRvcltdID0gW107XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoc3VwZXIuYWdncmVnYXRvcnMoKSk7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgIGtleTogJ0xBVEVTVCcsXG4gICAgICAgICAgICBsYWJlbDogJ0xhdGVzdCBUaW1lJyxcbiAgICAgICAgICAgIGFnZ3JlZ2F0b3I6IElneFBpdm90VGltZUFnZ3JlZ2F0ZS5sYXRlc3RUaW1lXG4gICAgICAgIH0pO1xuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICBrZXk6ICdFQVJMSUVTVCcsXG4gICAgICAgICAgICBsYWJlbDogJ0VhcmxpZXN0IFRpbWUnLFxuICAgICAgICAgICAgYWdncmVnYXRvcjogSWd4UGl2b3RUaW1lQWdncmVnYXRlLmVhcmxpZXN0VGltZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXRlc3QgdGltZSB2YWx1ZSBpbiB0aGUgZGF0YSByZWNvcmRzLiBDb21wYXJlIG9ubHkgdGhlIHRpbWUgcGFydCBvZiB0aGUgZGF0ZS5cbiAgICAgKiBJZiBmaWx0ZXJpbmcgaXMgYXBwbGllZCwgcmV0dXJucyB0aGUgbGF0ZXN0IHRpbWUgdmFsdWUgaW4gdGhlIGZpbHRlcmVkIGRhdGEgcmVjb3Jkcy5cbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogSWd4UGl2b3RUaW1lQWdncmVnYXRlLmxhdGVzdFRpbWUoZGF0YSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgSWd4UGl2b3RUaW1lQWdncmVnYXRlXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBsYXRlc3RUaW1lKG1lbWJlcnM6IGFueVtdKSB7XG4gICAgICAgIHJldHVybiBJZ3hUaW1lU3VtbWFyeU9wZXJhbmQubGF0ZXN0VGltZShtZW1iZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBlYXJsaWVzdCB0aW1lIHZhbHVlIGluIHRoZSBkYXRhIHJlY29yZHMuIENvbXBhcmUgb25seSB0aGUgdGltZSBwYXJ0IG9mIHRoZSBkYXRlLlxuICAgICAqIElmIGZpbHRlcmluZyBpcyBhcHBsaWVkLCByZXR1cm5zIHRoZSBlYXJsaWVzdCB0aW1lIHZhbHVlIGluIHRoZSBmaWx0ZXJlZCBkYXRhIHJlY29yZHMuXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIElneFBpdm90VGltZUFnZ3JlZ2F0ZS5lYXJsaWVzdFRpbWUoZGF0YSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgSWd4UGl2b3RUaW1lQWdncmVnYXRlXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBlYXJsaWVzdFRpbWUobWVtYmVyczogYW55W10pIHtcbiAgICAgICAgcmV0dXJuIElneFRpbWVTdW1tYXJ5T3BlcmFuZC5lYXJsaWVzdFRpbWUobWVtYmVycyk7XG4gICAgfVxufVxuIl19